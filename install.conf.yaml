- shell:
  - description: Validating .env
    command: ./configs.sh
    stdout: true
    stderr: true
- defaults:
    link:
      relink: true
- clean: ['~', '~/.config']
- shell:
  - description: Validating sudo credentials
    command: "sudo --validate"
  - description: Adding zsh to list of acceptable shells
    command: "[[ \"$(ag $(which zsh) /etc/shells)\" ]] || sudo sh -c \"echo $(which zsh) >> /etc/shells\""
  - description: Making zsh the default shell
    command: "sudo chsh -s $(which zsh)"      
  - [git submodule update --init --recursive, Installing submodules]
# NVM
- git:
    '~/.nvm':
      url: 'https://github.com/nvm-sh/nvm.git'
      description: 'Clone nvm'  
- link:
    ~/.zgen-setup: zsh-quickstart-kit/zsh/.zgen-setup
    ~/.zsh_aliases: zsh-quickstart-kit/zsh/.zsh_aliases
    ~/.zsh_functions: zsh-quickstart-kit/zsh/.zsh_functions
    ~/.zshrc: zsh-quickstart-kit/zsh/.zshrc
    ~/.zshrc.d/001-aliases.zsh: zshrc.d/001-aliases.zsh
    ~/.zshrc.d/002-nvm.zsh: zshrc.d/002-nvm.zsh
    ~/.zshrc.d/003-brew-completations.zsh: 
      if: '[ `uname` = Darwin ]'
      path: zshrc.d/003-brew-completations.zsh
    ~/.zshrc.d/004-java.zsh: zshrc.d/004-java.zsh
    ~/.zshrc.d/005-rust.zsh: zshrc.d/005-rust.zsh
    ~/.zsh-quickstart-local-plugins:    
    ~/.gitconfig:
    ~/.tmux.conf: tmux/
    ~/.config/nvim: config/nvim
    ~/.asdfrc: asdf/asdfrc
- git:
    '~/zgenom':
      url: 'https://github.com/jandamm/zgenom.git'
      description: 'Clone zgenom' 
- shell:
# VIM-PLUG
  - description: Installing vim-plug
    command: "[ -f ~/.local/share/nvim ] || curl -fLo \"${XDG_DATA_HOME:-$HOME/.local/share}\"/nvim/site/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
  - description: Installing vim plugins
    command: "vim +PlugInstall +qa"

- create:
  - ~/Projects

# Starship
- shell:
  - description: Installing Starship
    command: "sh -c $(curl -fsSL https://starship.rs/install.sh)"
- link:
    ~/.zshrc.d/100-starship.zsh: zshrc.d/100-starship.zsh
    ~/.config/starship.toml: config/starship.toml