#- aptget:
#    zsh:
#    neovim:
#        ppa_source: ppa:neovim-ppa/unstable
#        upgrade: true
#    golang:    
#    lazygit: ppa:lazygit-team/release
#    unzip:
#    direnv:
#    silversearcher-ag:
#    fd-find:
#    ranger:

# INSTALL FZF
- git:
      '~/.fzf':
        url: 'https://github.com/junegunn/fzf'
        description: 'Clone fzf'
- shell:    
  - description: Installing fzf
    command: "[ -f ~/.fzf/install ] || ~/.fzf/install"

#Exec 
- shell:
  - description: Validating sudo credentials
    command: "sudo --validate"
  # Bat and Ripgrep
- shell: 
  - description: Install bat and ripgrep
    command: "sudo apt install -o Dpkg::Options::=\"--force-overwrite\" bat ripgrep"
  - description: Create ~/.local/bin
    command: "[ -x ~/.local/bin ] || mkdir -p ~/.local/bin"    
  - description: Link batcat => bat
    command: "sudo ln -s -f /usr/bin/batcat /usr/bin/bat"
  - description: Link fd
    command: "sudo ln -s -f /usr/bin/fdfind /usr/bin/fd"
# FONTS
  - description: Customize fonts
    command: "fc-cache -vf ~/.fonts/"
# LAZYDOCKER
  - description: Install lazydocker
    command: "curl https://raw.githubusercontent.com/jesseduffield/lazydocker/master/scripts/install_update_linux.sh | bash"
  - description: remove lazydocker
    command: "sudo rm lazydocker"  
# NVM
  - description: Install nvm
    command: "curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash"

#Install Glow
#- git:
#      '~/glow':
#        url: 'https://github.com/charmbracelet/glow.git'
#        description: 'Clone glow' 
#- shell:
#  - description: Go to glow path
#    command: "cd ~/glow"
#  - description: Build Glow
#    command: "$(which go) build"
#    stderr: true
#  - description: Copy glow to bin
#    command: "sudo cp -f glow /usr/bin/"
#  - description: Remove build path  
#    command: "sudo rm -r ~/glow" 
#
# Install exa
- shell:
  - description: Wget exa package
    command: "wget https://github.com/ogham/exa/releases/download/v0.10.0/exa-linux-x86_64-v0.10.0.zip -P ~/ "
  - description: Unzip exa
    command: "sudo unzip -f ~/exa-linux-x86_64-v0.10.0.zip -d /usr/local"
  - description: Remove exa package
    command: "sudo rm -rf ~/exa-linux-x86_64-v0.10.0.zip"

# Install delta
- shell:
  - description: Wget delta package
    command: "wget https://github.com/dandavison/delta/releases/download/0.9.2/git-delta_0.9.2_amd64.deb -P ~/ "
  - description: Install delta package
    command: "sudo dpkg -i ~/git-delta_0.9.2_amd64.deb"
  - description: Remove delta package
    command: "sudo rm -rf git-delta_0.9.2_amd64.deb"

# Install GH
- shell:
  - description: Curl githubcli keyring
    command: "curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo gpg --dearmor -o /usr/share/keyrings/githubcli-archive-keyring.gpg"
  - description: Add repo in list
    command: "echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main\" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null"
#  - description: Update list
#    command: "sudo apt-get update -f"
  - description: Update list
    command: "sudo apt-get install -f gh"

- git:    
    '~/.asdf':
      url: 'https://github.com/asdf-vm/asdf.git'
      description: 'Clone asdf'   